<div id="window">
  <div id="playground">
  </div>
</div>
<div id="controls">

  <p id='alert'></p>
  <button id="random-button">Create Random</button>
  <button id="related-button">Create Related</button>
  <button id="related-button-wt">Create Wikipedia Type</button>
  <p>Select an Idea clicking on it and create Random concepts from it</p>
  <p>Shift + click to create a new idea</p>
  <p>Shift + click in an idea to change the content</p>
  <p>Shift + drag to relate ideas,</p>
  <p>Backspace to delete </p>
</div>

<div class="wiki"><div></div><i class="fa fa-times fa-3x" id="close-wiki"></i></div>

    <div id="toolbox">
      <input type="file" id="hidden-file-upload"><input id="upload-input" type="image" title="upload graph" src="upload-icon.png" alt="upload graph"> <input type="image" id="download-input" title="download graph" src="download-icon.png" alt="download graph"> <input type="image" id="delete-graph" title="delete graph" src="trash-icon.png" alt="delete graph">
      <i class="fa fa-question-circle fa-3x" id="wikishow"></i>
    </div>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" ></script>
    <script src="//cdn.jsdelivr.net/filesaver.js/0.1/FileSaver.min.js"></script>


<!-- </div> -->
<%= javascript_include_tag "graph-creator.js" %>


<!--
<script type="text/javascript">
var graph = new joint.dia.Graph;
var paper = new joint.dia.Paper({
    el: $('#playground'),
    width: 600,
    height: 200,
    model: graph,
    gridSize: 1
});
<% @concepts.each_with_index do |concept, index| %>
  var r<%= concept.id %> = new joint.shapes.basic.Rect({
      position: { x: <%= 10 + (index * 100)%>, y: 30 },
      size: { width: 100, height: 30 },
      attrs: { rect: { fill: 'blue', rx: 10,
      ry: 10 },
      text: { text: '<%= concept.content %>', fill: 'white', 'font-variant': 'small-caps'} }
  });
  r<%= concept.id %>.attr('rect/filter', { name: 'dropShadow', args: { dx: 2, dy: 2, blur: 3 } });
<% end %>
var rect2 = new joint.shapes.basic.Rect({
    position: { x: 100, y: 30 },
    size: { width: 100, height: 30 },
    attrs: { rect: { fill: 'red', rx: 10,
    ry: 10 }, text: { text: 'Renacimiento', fill: 'white', 'font-variant': 'small-caps' } }
});
rect2.attr('rect/filter', { name: 'dropShadow', args: { dx: 2, dy: 2, blur: 3 } });
rect2.translate(300);

<% @concepts.each do |concept| %>
  var link<%= concept.id %> = new joint.dia.Link({
      source: { id: r<%= concept.id %>.id },
      target: { id: rect2.id }
  });
link<%= concept.id %>.attr({
    '.connection': { stroke: 'blue' },
});
<% end %>

graph.addCells([
  <% @concepts.each do |concept| %>
  r<%= concept.id %>,
  <% end %>
   rect2,
  <% @concepts.each do |concept| %>
  link<%= concept.id %>,
  <% end %>
   ]);
// graph.on('all', function(eventName, cell) {
//     console.log(arguments);
// });
</script>
 -->